@model IEnumerable<office.Models.PerformaPlaceholders>
@{ 
    ViewBag.Title = "Placeholder";
    Layout = null;
}
<style>
    .tag-list li button {
        font-size: 10px;
        background-color: #f3f3f4;
        padding: 5px 12px;
        color: inherit;
        border-radius: 2px;
        border: 1px solid #e7eaec;
        margin-right: 5px;
        margin-top: 5px;
        display: block;
    }
    .ibox.fullscreen .collapse-link {
        display: none;
    }
    .mailbox-content .tag-list li button {
        background: #ffffff;
    }
    .ibox {
        margin-bottom: 5px !important;
    }
    .ibox-content {
        background-color: #f3f3f4 !important;
        border-color: white!important;
        border-width: -2px 0!important;
    }
    .ibox-tools {
        text-align: left!important;
    }
</style>
        
            <div class="wrapper wrapper-content">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="ibox ">
                            <div class="ibox-content mailbox-content">
                                <div class="file-manager">
                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#"> <i class="fa fa-circle text-info left" style="text-align:right">Project Details</i>  </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>

                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "Project")
                                                        {
                                                            <li> 
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div> 
                                        </div>
                                    </div>

                                     
                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#"> <i class="fa fa-circle text-info left" style="text-align:right">Project Internal Team</i>  </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>


                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "projectIT")
                                                             {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>





                                    </div>
                                    <div class="ibox float-e-margins border-bottom">


                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#"> <i class="fa fa-circle text-info left" style="text-align:right">Project External Team</i>  </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>

                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "projectET")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>


                                    </div>

                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#"> <i class="fa fa-circle text-info left" style="text-align:right">Project Office Team</i>  </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>

                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "projectOT")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>
                                         

                                    </div>
                                    <div class="ibox float-e-margins border-bottom">


                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#"> <i class="fa fa-circle text-info left" style="text-align:right">Company</i>  </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>
                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "Company")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#"> <i class="fa fa-circle text-info left" style="text-align:right">Project Details</i>  </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>
                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "CompanyAddress")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>
                                         
                                    </div>
                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#"> <i class="fa fa-circle text-info left" style="text-align:right">Company Internal Team</i>  </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>
                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "CompanyAddress")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>

                                         
                                    </div>
                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#">
                                                <i class="fa fa-circle text-info left" style="text-align:right">

                                                    Company Support Team
                                                </i>
                                            </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>
                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "CompanyST")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>
                                         
                                    </div>
                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#">
                                                <i class="fa fa-circle text-info left" style="text-align:right">
                                                    Pre Proposal Survey details
                                                </i>
                                            </a>
                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>

                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "projectPreProposal")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div> 
                                         
                                    </div>


                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#">
                                                <i class="fa fa-circle text-info left" style="text-align:right">
                                                    7/12 entry details
                                                </i>
                                            </a>
                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>
                                        </div>
                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "projectSD")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>
                                         
                                    </div>


                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#">
                                                <i class="fa fa-circle text-info left" style="text-align:right">
                                                    7/12 Owner details
                                                </i>
                                            </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>
                                        
                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "ProjectOwner")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>


                                    </div>


                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#">
                                                <i class="fa fa-circle text-info left" style="text-align:right">
                                                    7/12 Signature details
                                                </i>
                                            </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>
                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "projectSign")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { @item.PlaceHolderName}
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>
                                         
                                    </div>


                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#">
                                                <i class="fa fa-circle text-info left" style="text-align:right">
                                                    Sanction Details
                                                </i>
                                            </a>

                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>

                                        </div>

                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <ul class="tag-list" style="padding: 0">
                                                    @foreach (var item in Model)
                                                    {
                                                        if (item.TableName == "projectSanction")
                                                        {
                                                            <li>
                                                                <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                    <i class="fa fa-tag"></i>
                                                                    @if (@item.PlaceHolderName.Contains("__"))
                                                                    {
                                                                        @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                    }
                                                                    else
                                                                    { 
                                                                        @item.PlaceHolderName
                                                                    }
                                                                </button>
                                                            </li>
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>
                                         
                                    </div>


                                    <div class="ibox float-e-margins border-bottom">

                                        <div class="ibox-tools" style="text-align: right">
                                            <a href="#">
                                                <i class="fa fa-circle text-info left" style="text-align:right">
                                                    Custom Fielddetails
                                                </i>
                                            </a>
                                            <a class="collapse-link" style="text-align: right">
                                                <i class="fa fa-chevron-down"></i>
                                            </a>
                                        </div>
                                        <div class="ibox-content" style="display:none;">
                                            <div class="row">
                                                <div class="row">
                                                    <div class="col-md-8">
                                                        <input type="text" id="txtCustomfield" class="form-control" />
                                                    </div>
                                                    <div class="col-md-3">
                                                        <input type="button" id="btnAddCustomfield" value="Add" class="btn btn-primary" />
                                                    </div>
                                                    </div>
                                                    <ul class="tag-list" style="padding: 0">
                                                        @foreach (var item in Model)
                                                        {
                                                            if (item.TableName == "CustomField")
                                                            {
                                                                <li>
                                                                    <button class="aLink  btn btn-link" id="@item.PlaceHolderName" style="margin-bottom: 0px!important;">
                                                                        <i class="fa fa-tag"></i>
                                                                        @if (@item.PlaceHolderName.Contains("__"))
                                                                        {
                                                                            @item.PlaceHolderName.Substring(item.PlaceHolderName.IndexOf("__")).ToString().Replace("__", "")
                                                                        }
                                                                        else
                                                                        { @item.PlaceHolderName}
                                                                    </button>
                                                                </li>
                                                            }
                                                        }
                                                    </ul>
                                                </div>
                                            </div>
                                         
                                    </div>

                                </div>
                                     
                                    
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                     
                </div>
             
             

         

    <!-- Mainly scripts -->
    <script src="js/jquery-2.1.1.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

    <!-- Custom and plugin javascript -->
    <script src="js/inspinia.js"></script>
    <script src="js/plugins/pace/pace.min.js"></script>

<script src="~/js/inspinia.js"></script>

<script>
    $(document).ready(function () {
        $('.aLink').on('click', function () {
            var texts = "";
            texts = "##" + this.id + "##";
            insertTextAtCursor(texts);
        });
        $('.bLink').on('click', function () {
            var texts = "";
            texts = "$$" + this.id + "$$";
            insertTextAtCursor(texts);
        });
        $('#btnAddCustomfield').on('click', function () {

            var Customfield;
            CustomFieldName = $("#txtCustomfield").val();
            if (CustomFieldName == "") {
                $("#Customfieldvalidation").show();
                return false;
            }
            else {
                $.ajax({
                    type: 'POST',
                    dataType: 'json',
                    url: '/Template/SaveCustomField',
                    data:
                    {
                        FieldID: 0,
                        CustomFieldName: CustomFieldName,
                    },
                    success: function (da) {
                        $.ajax({
                            url: "@Url.Action("GetPlaceholder", "Template")",
                            success: function (data) {

                                $('#UserPlaceHolder').html(data);
                                $("#ibox-Customfield").show();
                            }
                        });
                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                    }
                });
            }
        });
    });
    function insertTextAtCursor(text) {
        var sel, range;

        if (window.getSelection) {

            if (window.getSelection().baseNode.parentNode.className == "aLink" || window.getSelection().baseNode.parentNode.className == "pull-right") { return; }
            if (window.getSelection().baseNode.parentNode.className == "file-manager" || window.getSelection().baseNode.parentNode.className == "mailbox-content") { return; }
            if (window.getSelection().baseNode.parentNode.className == "m-r-sm text-muted welcome-message" || window.getSelection().baseNode.parentNode.className == "col-lg-6") { return; }
            if (window.getSelection().baseNode.parentNode.className == "ibox-tools" || window.getSelection().baseNode.parentNode.className == "collapse-link") { return; }
            sel = window.getSelection();
            //if (sel.anchorNode.parentNode.className == "note-editable" || sel.anchorNode.parentNode.className =="note-editing-area") {
            if (sel.getRangeAt && sel.rangeCount) {
                range = sel.getRangeAt(0);
                range.deleteContents();
                range.insertNode(document.createTextNode(text));
            }

        } else if (document.selection && document.selection.createRange) {
            document.selection.createRange().text = text;
        }

    }
</script>
