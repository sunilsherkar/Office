
@model  IEnumerable<office.Models.ProjectsDataWithValue>
@{
    Layout = null;
}

<div class="wrapper animated fadeInRight">
    <div class="row">

        @if (Model.Count() == 1 && Model != null)
        {
            foreach (var item in Model)
            {
                <div class="col-lg-12">
                    <div class="ibox">
                        <div class="ibox-title divimp">
                            <h5>@item.DataTemplateName</h5>
                            <hidden class="hdnTemplateID1" value="@item.TemplateID" b="@item.TemplateID"></hidden>
                            <hidden class="hdnDTTemplateID1" value="@item.DTTemplateID" b="@item.DTTemplateID"></hidden>
                        </div>
                        <div class="ibox-content">
                            <div id="summernote" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <hidden id="hdnDescription" value="@item.TemplateDescription"></hidden>
                                @(new HtmlString(item.TemplateDescription))
                            </div>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-primary center-block btnCompareGenerate" type="button"><i class="fa fa-arrow-right btnCompareGenerate"></i> Save Document </button>
                    </div>
                </div>
            }
        }
        else
    if (Model.Count() == 2)
        {
            foreach (var item in Model)
            {
                <div class="col-lg-6">
                    <div class="ibox">
                        <div class="ibox-title divimp">
                            <h5>@item.DataTemplateName</h5>
                            <hidden class="hdnTemplateID1" value="@item.TemplateID" b="@item.TemplateID"></hidden>
                            <hidden class="hdnDTTemplateID1" value="@item.DTTemplateID" b="@item.DTTemplateID"></hidden>
                        </div>
                        <div class="ibox-content">
                            <div id="summernote" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <hidden id="hdnDescription" value="@item.TemplateDescription"></hidden>
                                @(new HtmlString(item.TemplateDescription))
                            </div>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-primary center-block btnCompareGenerate" type="button"><i class="fa fa-arrow-right btnCompareGenerate"></i> Save Document </button>
                    </div>
                </div>
            }
        }
        else
        {
            foreach (var item in Model)
            {
                <div class="col-lg-4">
                    <div class="ibox">
                        <div class="ibox-title divimp">
                            <h5>@item.DataTemplateName</h5>
                            <hidden class="hdnTemplateID1" value="@item.TemplateID" b="@item.TemplateID"></hidden>
                            <hidden class="hdnDTTemplateID1" value="@item.DTTemplateID" b="@item.DTTemplateID"></hidden>
                        </div>
                        <div class="ibox-content">
                            <div id="summernote" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <hidden id="hdnDescription" value="@item.TemplateDescription"></hidden>
                                @(new HtmlString(item.TemplateDescription))
                            </div>
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-primary center-block btnCompareGenerate" type="button"><i class="fa fa-arrow-right btnCompareGenerate"></i> Save Document </button>
                    </div>
                </div>
            }
        } 
    </div>   
  </div>

<script src="~/js/jquery-2.1.1.js"></script>
<script>
    $('.btnCompareGenerate').on("click", function (e) {
        var TemplateID = $('.hdnTemplateID1').attr("b");
        var DtTemplateID = $(this).closest("div .col-lg-4").find(".hdnDTTemplateID1").attr("b");
        $.ajax({
            url: "@Url.Action("ReplacePlaceholderByDataTemplate", "Template")",
            data:
            {
                TemplateID: TemplateID,
                DtTemplateID: DtTemplateID,
            },
            dataType: "text",
            success: function (data) {
               // $('#TemplateData').html(data);
                
                $('#CompareTemplateDiv').html(data);

            },
            error: function (error) {
            }
        });
    });
</script>